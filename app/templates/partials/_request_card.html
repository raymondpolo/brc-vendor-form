{% macro request_card(req) %}
<a href="{{ url_for('main.view_request', request_id=req.id) }}" class="block bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300">
    <div class="flex items-center justify-between mb-3">
        <div class="font-bold text-lg text-indigo-600">#{{ req.id }}</div>
        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full
            {% if req.status in ['New', 'Open'] %} bg-blue-100 text-blue-800
            {% elif req.status in ['Completed', 'Approved'] %} bg-green-100 text-green-800
            {% elif req.status in ['Cancelled', 'Quote Declined'] %} bg-red-100 text-red-800
            {% else %} bg-yellow-100 text-yellow-800 {% endif %}">
            {{ req.status }}
        </span>
    </div>

    <div class="border-t border-gray-200 pt-3 space-y-2 text-sm text-gray-700">
        <div class="grid grid-cols-2 gap-x-4">
            <div><strong>WO #:</strong> {{ req.wo_number or 'N/A' }}</div>
            <div><strong>Request Type:</strong> {{ req.request_type }}</div>
            <div><strong>Property:</strong> {{ req.property }}</div>
            <div><strong>Unit:</strong> {{ req.unit or 'N/A' }}</div>
            <div class="col-span-2"><strong>Address:</strong> {{ req.address }}</div>
            <div><strong>Assigned Vendor:</strong> {{ req.vendor_name or 'N/A' }}</div>
            <div><strong>Property Manager:</strong> {{ req.property_manager or 'N/A' }}</div>
            <div><strong>Requester:</strong> {{ req.requester_name }}</div>
        </div>
    </div>
</a>
{% endmacro %}